# 🎉 生成AI英会話アプリ - 精度向上版

## ✨ 新しい改善機能

このバージョンでは、以下の**4つの改善**により、回答精度が大幅に向上しています：

### 📊 改善一覧

1. **✅ レベル別最適化プロンプト**
   - 初級者/中級者/上級者それぞれに最適化された会話と問題
   
2. **✅ 詳細な評価システム**
   - 100点満点のスコアリング
   - 具体的な改善ポイントの提示
   
3. **✅ Whisper認識精度向上**
   - 文脈ヒントによる認識率10-20%アップ
   
4. **✅ 動的レベル対応**
   - レベル変更が即座に反映

---

## 🚀 使い方

### 1. 環境セットアップ

```bash
# 仮想環境作成（推奨）
python -m venv venv

# 仮想環境の有効化
# Windows:
venv\Scripts\activate
# Mac/Linux:
source venv/bin/activate

# パッケージインストール
pip install -r requirements.txt
```

### 2. APIキーの設定

`.env`ファイルを作成して、OpenAI APIキーを設定：

```
OPENAI_API_KEY=あなたのAPIキー
```

### 3. アプリの起動

```bash
streamlit run main.py
```

ブラウザで `http://localhost:8501` が自動的に開きます。

---

## 🎯 3つのモード

### 1. 日常英会話 🗣️

**特徴**:
- AIと自由に英会話練習
- 文法ミスを自然に訂正
- レベル別の語彙と表現

**使い方**:
1. 英語レベルを選択（初級者/中級者/上級者）
2. 「開始」ボタンをクリック
3. 音声で話しかける
4. AIが適切なレベルで応答

### 2. シャドーイング 🔄

**特徴**:
- AIが読み上げた英文を繰り返す
- 音声認識で自動評価
- 詳細なフィードバック

**使い方**:
1. レベルを選択
2. 「開始」ボタンをクリック
3. AIが英文を読み上げる
4. 「シャドーイング開始」をクリック
5. 聞いた英文をそのまま発話
6. 詳細な評価とスコアを確認

### 3. ディクテーション ✍️

**特徴**:
- AIが読み上げた英文を書き取る
- レベル別の問題文
- 100点満点のスコアリング

**使い方**:
1. レベルを選択
2. 「開始」ボタンをクリック
3. AIが英文を読み上げる
4. 「ディクテーション開始」をクリック
5. 聞いた英文をチャット欄に入力
6. 詳細な評価を確認

---

## 🎓 レベル選択のガイド

### 初級者 👶
- TOEIC 300-500点程度
- 基本的な日常会話を学びたい方
- 短い文章、簡単な語彙

### 中級者 💪
- TOEIC 500-700点程度
- 日常会話に自信を持ちたい方
- イディオムや句動詞も学習

### 上級者 🚀
- TOEIC 700点以上
- ネイティブレベルを目指す方
- 複雑な表現、文化的ニュアンス

---

## 📈 改善による効果

| 機能 | 従来版 | 改善版 |
|------|-------|-------|
| 会話の適切さ | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| 評価の詳しさ | ⭐⭐ | ⭐⭐⭐⭐⭐ |
| 音声認識精度 | ⭐⭐⭐ | ⭐⭐⭐⭐ |
| 学習効果 | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ |

---

## 🔧 トラブルシューティング

### Q1: 音声が認識されない
**A**: 
- マイクの権限を確認
- ブラウザのマイク設定を確認
- 5秒間沈黙すると自動的に録音終了

### Q2: APIエラーが出る
**A**:
- `.env`ファイルが正しく設定されているか確認
- APIキーが有効か確認
- API利用制限を確認

### Q3: レベル変更が反映されない
**A**:
- 新しい会話を開始してください
- ページをリロードしてみてください

---

## 📚 詳細ドキュメント

改善の技術詳細については、[IMPROVEMENTS.md](./IMPROVEMENTS.md) を参照してください。

- 各改善の技術的な説明
- コードの解説
- 音声認識アプリ開発の学習ポイント
- さらなる改善アイデア

---

## 🎁 次のステップ

このアプリで音声認識の基礎を学んだら、以下のようなアプリも作れます：

1. **音声メモアプリ** - 音声を自動でテキスト化
2. **会議議事録アプリ** - 会議の内容を自動記録
3. **多言語翻訳アプリ** - 音声→翻訳→音声
4. **カラオケ採点アプリ** - 歌声を分析
5. **あなた独自のアイデア** - 可能性は無限大！

---

## 💡 カスタマイズのヒント

### 音声の変更
`main.py`の`voice="alloy"`を以下に変更可能：
- `alloy`, `echo`, `fable`, `onyx`, `nova`, `shimmer`

### 再生速度の調整
`constants.py`の`PLAY_SPEED_OPTION`で変更可能

### 評価基準のカスタマイズ
`constants.py`の`SYSTEM_TEMPLATE_EVALUATION`を編集

---

## 📝 ライセンス

このアプリは教育目的で作成されています。
自由に改造・学習にお使いください！

---

**楽しい英語学習を！ Happy Learning! 🎉**

